!function e(t,n,r){function o(a,u){if(!n[a]){if(!t[a]){var c="function"==typeof require&&require;if(!u&&c)return c(a,!0);if(i)return i(a,!0);var s=new Error("Cannot find module '"+a+"'");throw s.code="MODULE_NOT_FOUND",s}var f=n[a]={exports:{}};t[a][0].call(f.exports,function(e){var n=t[a][1][e];return o(n?n:e)},f,f.exports,e,t,n,r)}return n[a].exports}for(var i="function"==typeof require&&require,a=0;a<r.length;a++)o(r[a]);return o}({1:[function(e,t,n){function r(e,t,n){var r=n.length;switch(r){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function o(e,t,n,r){return void 0===e||i(e,c[n])&&!s.call(r,n)?t:e}function i(e,t){return e===t||e!==e&&t!==t}var a=e("lodash.assigninwith"),u=e("lodash.rest"),c=Object.prototype,s=c.hasOwnProperty,f=u(function(e){return e.push(void 0,o),r(a,void 0,e)});t.exports=f},{"lodash.assigninwith":2,"lodash.rest":4}],2:[function(e,t,n){function r(e,t){return e="number"==typeof e||w.test(e)?+e:-1,t=null==t?y:t,e>-1&&e%1==0&&t>e}function o(e,t,n){var r=e[t];T.call(e,t)&&s(r,n)&&(void 0!==n||t in e)||(e[t]=n)}function i(e){return function(t){return null==t?void 0:t[e]}}function a(e,t,n,r){n||(n={});for(var i=-1,a=t.length;++i<a;){var u=t[i],c=r?r(n[u],e[u],u,n,e):e[u];o(n,u,c)}return n}function u(e){return h(function(t,n){var r=-1,o=n.length,i=o>1?n[o-1]:void 0,a=o>2?n[2]:void 0;for(i="function"==typeof i?(o--,i):void 0,a&&c(n[0],n[1],a)&&(i=3>o?void 0:i,o=1),t=Object(t);++r<o;){var u=n[r];u&&e(t,u,r,i)}return t})}function c(e,t,n){if(!p(n))return!1;var o=typeof t;return("number"==o?f(n)&&r(t,n.length):"string"==o&&t in n)?s(n[t],e):!1}function s(e,t){return e===t||e!==e&&t!==t}function f(e){return null!=e&&d(E(e))&&!l(e)}function l(e){var t=p(e)?S.call(e):"";return t==b||t==g}function d(e){return"number"==typeof e&&e>-1&&e%1==0&&y>=e}function p(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}var v=e("lodash.keysin"),h=e("lodash.rest"),y=9007199254740991,b="[object Function]",g="[object GeneratorFunction]",w=/^(?:0|[1-9]\d*)$/,m=Object.prototype,T=m.hasOwnProperty,S=m.toString,E=i("length"),x=u(function(e,t,n,r){a(t,v(t),e,r)});t.exports=x},{"lodash.keysin":3,"lodash.rest":4}],3:[function(e,t,n){(function(e){function r(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function o(e){return e&&e.Object===Object?e:null}function i(e,t){return e="number"==typeof e||R.test(e)?+e:-1,t=null==t?m:t,e>-1&&e%1==0&&t>e}function a(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}function u(e){e=null==e?e:Object(e);var t=[];for(var n in e)t.push(n);return t}function c(e){return function(t){return null==t?void 0:t[e]}}function s(e){var t=e?e.length:void 0;return h(t)&&(z(e)||g(e)||l(e))?r(t,String):null}function f(e){var t=e&&e.constructor,n="function"==typeof t&&t.prototype||L;return e===n}function l(e){return p(e)&&D.call(e,"callee")&&(!H.call(e,"callee")||M.call(e)==T)}function d(e){return null!=e&&h(P(e))&&!v(e)}function p(e){return b(e)&&d(e)}function v(e){var t=y(e)?M.call(e):"";return t==S||t==E}function h(e){return"number"==typeof e&&e>-1&&e%1==0&&m>=e}function y(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function b(e){return!!e&&"object"==typeof e}function g(e){return"string"==typeof e||!z(e)&&b(e)&&M.call(e)==x}function w(e){for(var t=-1,n=f(e),r=u(e),o=r.length,a=s(e),c=!!a,l=a||[],d=l.length;++t<o;){var p=r[t];c&&("length"==p||i(p,d))||"constructor"==p&&(n||!D.call(e,p))||l.push(p)}return l}var m=9007199254740991,T="[object Arguments]",S="[object Function]",E="[object GeneratorFunction]",x="[object String]",R=/^(?:0|[1-9]\d*)$/,O={"function":!0,object:!0},B=O[typeof n]&&n&&!n.nodeType?n:void 0,j=O[typeof t]&&t&&!t.nodeType?t:void 0,U=o(B&&j&&"object"==typeof e&&e),_=o(O[typeof self]&&self),A=o(O[typeof window]&&window),F=o(O[typeof this]&&this),I=U||A!==(F&&F.window)&&A||_||F||Function("return this")(),L=Object.prototype,D=L.hasOwnProperty,M=L.toString,C=I.Reflect,N=C?C.enumerate:void 0,H=L.propertyIsEnumerable;N&&!H.call({valueOf:1},"valueOf")&&(u=function(e){return a(N(e))});var P=c("length"),z=Array.isArray;t.exports=w}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],4:[function(e,t,n){function r(e,t,n){var r=n.length;switch(r){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function o(e,t){if("function"!=typeof e)throw new TypeError(s);return t=S(void 0===t?e.length-1:u(t),0),function(){for(var n=arguments,o=-1,i=S(n.length-t,0),a=Array(i);++o<i;)a[o]=n[t+o];switch(t){case 0:return e.call(this,a);case 1:return e.call(this,n[0],a);case 2:return e.call(this,n[0],n[1],a)}var u=Array(t+1);for(o=-1;++o<t;)u[o]=n[o];return u[t]=a,r(e,this,u)}}function i(e){var t=a(e)?T.call(e):"";return t==p||t==v}function a(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function u(e){if(!e)return 0===e?e:0;if(e=c(e),e===f||e===-f){var t=0>e?-1:1;return t*l}var n=e%1;return e===e?n?e-n:e:0}function c(e){if(a(e)){var t=i(e.valueOf)?e.valueOf():e;e=a(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(h,"");var n=b.test(e);return n||g.test(e)?w(e.slice(2),n?2:8):y.test(e)?d:+e}var s="Expected a function",f=1/0,l=1.7976931348623157e308,d=NaN,p="[object Function]",v="[object GeneratorFunction]",h=/^\s+|\s+$/g,y=/^[-+]0x[0-9a-f]+$/i,b=/^0b[01]+$/i,g=/^0o[0-7]+$/i,w=parseInt,m=Object.prototype,T=m.toString,S=Math.max;t.exports=o},{}],5:[function(e,t,n){!function(){var n=e("crypt"),r=e("charenc").utf8,o=e("is-buffer"),i=e("charenc").bin,a=function(e,t){e.constructor==String?e=t&&"binary"===t.encoding?i.stringToBytes(e):r.stringToBytes(e):o(e)?e=Array.prototype.slice.call(e,0):Array.isArray(e)||(e=e.toString());for(var u=n.bytesToWords(e),c=8*e.length,s=1732584193,f=-271733879,l=-1732584194,d=271733878,p=0;p<u.length;p++)u[p]=16711935&(u[p]<<8|u[p]>>>24)|4278255360&(u[p]<<24|u[p]>>>8);u[c>>>5]|=128<<c%32,u[(c+64>>>9<<4)+14]=c;for(var v=a._ff,h=a._gg,y=a._hh,b=a._ii,p=0;p<u.length;p+=16){var g=s,w=f,m=l,T=d;s=v(s,f,l,d,u[p+0],7,-680876936),d=v(d,s,f,l,u[p+1],12,-389564586),l=v(l,d,s,f,u[p+2],17,606105819),f=v(f,l,d,s,u[p+3],22,-1044525330),s=v(s,f,l,d,u[p+4],7,-176418897),d=v(d,s,f,l,u[p+5],12,1200080426),l=v(l,d,s,f,u[p+6],17,-1473231341),f=v(f,l,d,s,u[p+7],22,-45705983),s=v(s,f,l,d,u[p+8],7,1770035416),d=v(d,s,f,l,u[p+9],12,-1958414417),l=v(l,d,s,f,u[p+10],17,-42063),f=v(f,l,d,s,u[p+11],22,-1990404162),s=v(s,f,l,d,u[p+12],7,1804603682),d=v(d,s,f,l,u[p+13],12,-40341101),l=v(l,d,s,f,u[p+14],17,-1502002290),f=v(f,l,d,s,u[p+15],22,1236535329),s=h(s,f,l,d,u[p+1],5,-165796510),d=h(d,s,f,l,u[p+6],9,-1069501632),l=h(l,d,s,f,u[p+11],14,643717713),f=h(f,l,d,s,u[p+0],20,-373897302),s=h(s,f,l,d,u[p+5],5,-701558691),d=h(d,s,f,l,u[p+10],9,38016083),l=h(l,d,s,f,u[p+15],14,-660478335),f=h(f,l,d,s,u[p+4],20,-405537848),s=h(s,f,l,d,u[p+9],5,568446438),d=h(d,s,f,l,u[p+14],9,-1019803690),l=h(l,d,s,f,u[p+3],14,-187363961),f=h(f,l,d,s,u[p+8],20,1163531501),s=h(s,f,l,d,u[p+13],5,-1444681467),d=h(d,s,f,l,u[p+2],9,-51403784),l=h(l,d,s,f,u[p+7],14,1735328473),f=h(f,l,d,s,u[p+12],20,-1926607734),s=y(s,f,l,d,u[p+5],4,-378558),d=y(d,s,f,l,u[p+8],11,-2022574463),l=y(l,d,s,f,u[p+11],16,1839030562),f=y(f,l,d,s,u[p+14],23,-35309556),s=y(s,f,l,d,u[p+1],4,-1530992060),d=y(d,s,f,l,u[p+4],11,1272893353),l=y(l,d,s,f,u[p+7],16,-155497632),f=y(f,l,d,s,u[p+10],23,-1094730640),s=y(s,f,l,d,u[p+13],4,681279174),d=y(d,s,f,l,u[p+0],11,-358537222),l=y(l,d,s,f,u[p+3],16,-722521979),f=y(f,l,d,s,u[p+6],23,76029189),s=y(s,f,l,d,u[p+9],4,-640364487),d=y(d,s,f,l,u[p+12],11,-421815835),l=y(l,d,s,f,u[p+15],16,530742520),f=y(f,l,d,s,u[p+2],23,-995338651),s=b(s,f,l,d,u[p+0],6,-198630844),d=b(d,s,f,l,u[p+7],10,1126891415),l=b(l,d,s,f,u[p+14],15,-1416354905),f=b(f,l,d,s,u[p+5],21,-57434055),s=b(s,f,l,d,u[p+12],6,1700485571),d=b(d,s,f,l,u[p+3],10,-1894986606),l=b(l,d,s,f,u[p+10],15,-1051523),f=b(f,l,d,s,u[p+1],21,-2054922799),s=b(s,f,l,d,u[p+8],6,1873313359),d=b(d,s,f,l,u[p+15],10,-30611744),l=b(l,d,s,f,u[p+6],15,-1560198380),f=b(f,l,d,s,u[p+13],21,1309151649),s=b(s,f,l,d,u[p+4],6,-145523070),d=b(d,s,f,l,u[p+11],10,-1120210379),l=b(l,d,s,f,u[p+2],15,718787259),f=b(f,l,d,s,u[p+9],21,-343485551),s=s+g>>>0,f=f+w>>>0,l=l+m>>>0,d=d+T>>>0}return n.endian([s,f,l,d])};a._ff=function(e,t,n,r,o,i,a){var u=e+(t&n|~t&r)+(o>>>0)+a;return(u<<i|u>>>32-i)+t},a._gg=function(e,t,n,r,o,i,a){var u=e+(t&r|n&~r)+(o>>>0)+a;return(u<<i|u>>>32-i)+t},a._hh=function(e,t,n,r,o,i,a){var u=e+(t^n^r)+(o>>>0)+a;return(u<<i|u>>>32-i)+t},a._ii=function(e,t,n,r,o,i,a){var u=e+(n^(t|~r))+(o>>>0)+a;return(u<<i|u>>>32-i)+t},a._blocksize=16,a._digestsize=16,t.exports=function(e,t){if("undefined"!=typeof e){var r=n.wordsToBytes(a(e,t));return t&&t.asBytes?r:t&&t.asString?i.bytesToString(r):n.bytesToHex(r)}}}()},{charenc:6,crypt:7,"is-buffer":8}],6:[function(e,t,n){var r={utf8:{stringToBytes:function(e){return r.bin.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape(r.bin.bytesToString(e)))}},bin:{stringToBytes:function(e){for(var t=[],n=0;n<e.length;n++)t.push(255&e.charCodeAt(n));return t},bytesToString:function(e){for(var t=[],n=0;n<e.length;n++)t.push(String.fromCharCode(e[n]));return t.join("")}}};t.exports=r},{}],7:[function(e,t,n){!function(){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n={rotl:function(e,t){return e<<t|e>>>32-t},rotr:function(e,t){return e<<32-t|e>>>t},endian:function(e){if(e.constructor==Number)return 16711935&n.rotl(e,8)|4278255360&n.rotl(e,24);for(var t=0;t<e.length;t++)e[t]=n.endian(e[t]);return e},randomBytes:function(e){for(var t=[];e>0;e--)t.push(Math.floor(256*Math.random()));return t},bytesToWords:function(e){for(var t=[],n=0,r=0;n<e.length;n++,r+=8)t[r>>>5]|=e[n]<<24-r%32;return t},wordsToBytes:function(e){for(var t=[],n=0;n<32*e.length;n+=8)t.push(e[n>>>5]>>>24-n%32&255);return t},bytesToHex:function(e){for(var t=[],n=0;n<e.length;n++)t.push((e[n]>>>4).toString(16)),t.push((15&e[n]).toString(16));return t.join("")},hexToBytes:function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(parseInt(e.substr(n,2),16));return t},bytesToBase64:function(t){for(var n=[],r=0;r<t.length;r+=3)for(var o=t[r]<<16|t[r+1]<<8|t[r+2],i=0;4>i;i++)8*r+6*i<=8*t.length?n.push(e.charAt(o>>>6*(3-i)&63)):n.push("=");return n.join("")},base64ToBytes:function(t){t=t.replace(/[^A-Z0-9+\/]/gi,"");for(var n=[],r=0,o=0;r<t.length;o=++r%4)0!=o&&n.push((e.indexOf(t.charAt(r-1))&Math.pow(2,-2*o+8)-1)<<2*o|e.indexOf(t.charAt(r))>>>6-2*o);return n}};t.exports=n}()},{}],8:[function(e,t,n){t.exports=function(e){return!(null==e||!(e._isBuffer||e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)))}},{}],9:[function(e,t,n){function r(e){e=e||{},i(e,{alignX:.5,alignY:.5,material:new THREE.MeshBasicMaterial({color:65280,transparent:!0,opacity:.5,side:THREE.DoubleSide})});var t=o(e.alignX,e.alignY);THREE.Mesh.call(this,t,e.material)}function o(e,t){e=void 0===e?.5:e,t=void 0===t?.5:t;var n=a(""+e+t),r=u[n],o=.5-e,i=.5-t;return r||(r=new THREE.PlaneGeometry(1,1,1,1),r.vertices.forEach(function(e){e.x+=o,e.y+=i}),r.verticesNeedUpdate=!0,u[n]=r),r}var i=e("lodash.defaults"),a=e("md5"),u={};r.prototype=Object.create(THREE.Mesh.prototype),t.exports=r},{"lodash.defaults":1,md5:5}],10:[function(e,t,n){function r(e){this.data=e,this._saveListeners=[]}var o=e("./libs/FileSaver.min");r.prototype._setBlob=function(e){if(this.blob=e,this._saveListeners.length)for(;this._saveListeners.length;){var t=this._saveListeners.pop();t.bind(this)(e)}},r.prototype.save=function(e){this.blob?this._saveBlob(this.blob,e):this._addSaveListener(e)},r.prototype.open=function(){window.open(this.data)},r.prototype._saveBlob=function(e,t){o.saveAs(e,t||"three-sixty.png")},r.prototype._addSaveListener=function(e){this._saveListeners.push(function(t){this._saveBlob(t,e)})},t.exports=r},{"./libs/FileSaver.min":13}],11:[function(e,t,n){function r(e){var t=THREE.UniformsUtils.clone(o);t.map.value=e;var n={uniforms:t,fragmentShader:a,vertexShader:i,transparent:!0,side:THREE.DoubleSide};THREE.ShaderMaterial.call(this,n),this.name="ThreeSixtyMaterial"}var o={map:{type:"t",value:null}},i=["varying vec2 vUv;","void main() {","   vUv = uv;","   gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),a=["uniform samplerCube map;","varying vec3 vertexPos;","varying vec2 vUv;","vec4 cubeToLatLon(samplerCube cubemap, vec2 inUV) { ","   const float PI = 3.141592653589793238462643383;","   vec3 cubmapTexCoords;","   cubmapTexCoords.x = -sin(inUV.x * PI * 2.0) * sin(inUV.y * PI);","   cubmapTexCoords.y = cos(inUV.y * PI);","   cubmapTexCoords.z = -cos(inUV.x * PI * 2.0) * sin(inUV.y * PI);","   return textureCube(cubemap, cubmapTexCoords);","}","void main( void ) { ","   gl_FragColor = cubeToLatLon(map, vUv);","}"].join("\n");r.prototype=Object.create(THREE.ShaderMaterial.prototype),t.exports=r},{}],12:[function(e,t,n){var r=e("lodash.defaults"),o=e("./QuadMesh"),i=e("./ThreeSixtyMaterial"),a=e("./ThreeSixtyFile");e("./libs/FileSaver.min.js"),e("./libs/canvasToBlobPolyfill"),window.threeSixty=function(e){if(e=e||{},r(e,{width:2048,height:1024,position:new THREE.Vector3,rotation:new THREE.Euler}),!e.renderer)throw new Error("threeSixty requires a renderer");if(!e.scene)throw new Error("threeSixty requires a scene");var t=new THREE.CubeCamera(.1,100,512);t.position.copy(e.position),t.rotation.copy(e.rotation),t.updateCubeMap(e.renderer,e.scene);var n=new THREE.Scene,u=new THREE.OrthographicCamera(-.5,.5,-.5,.5,-.5,.5),c=new i(t.renderTarget),s=new o({material:c});n.add(s),n.add(u);var f=e.renderer.domElement.width,l=e.renderer.domElement.height;e.renderer.setSize(e.width,e.height),e.renderer.render(n,u);var d=e.renderer.domElement.toDataURL(),p=new a(d);return e.renderer.domElement.toBlob(function(e){p._setBlob(e)}),e.renderer.setSize(f,l),p}},{"./QuadMesh":9,"./ThreeSixtyFile":10,"./ThreeSixtyMaterial":11,"./libs/FileSaver.min.js":13,"./libs/canvasToBlobPolyfill":14,"lodash.defaults":1}],13:[function(e,t,n){var r=r||function(e){"use strict";if("undefined"==typeof navigator||!/MSIE [1-9]\./.test(navigator.userAgent)){var t=e.document,n=function(){return e.URL||e.webkitURL||e},r=t.createElementNS("http://www.w3.org/1999/xhtml","a"),o="download"in r,i=function(e){var t=new MouseEvent("click");e.dispatchEvent(t)},a=/Version\/[\d\.]+.*Safari/.test(navigator.userAgent),u=e.webkitRequestFileSystem,c=e.requestFileSystem||u||e.mozRequestFileSystem,s=function(t){(e.setImmediate||e.setTimeout)(function(){throw t},0)},f="application/octet-stream",l=0,d=500,p=function(t){var r=function(){"string"==typeof t?n().revokeObjectURL(t):t.remove()};e.chrome?r():setTimeout(r,d)},v=function(e,t,n){t=[].concat(t);for(var r=t.length;r--;){var o=e["on"+t[r]];if("function"==typeof o)try{o.call(e,n||e)}catch(i){s(i)}}},h=function(e){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e},y=function(t,s,d){d||(t=h(t));var y,b,g,w=this,m=t.type,T=!1,S=function(){v(w,"writestart progress write writeend".split(" "))},E=function(){if(b&&a&&"undefined"!=typeof FileReader){var r=new FileReader;return r.onloadend=function(){var e=r.result;b.location.href="data:attachment/file"+e.slice(e.search(/[,;]/)),w.readyState=w.DONE,S()},r.readAsDataURL(t),void(w.readyState=w.INIT)}if(!T&&y||(y=n().createObjectURL(t)),b)b.location.href=y;else{var o=e.open(y,"_blank");void 0==o&&a&&(e.location.href=y)}w.readyState=w.DONE,S(),p(y)},x=function(e){return function(){return w.readyState!==w.DONE?e.apply(this,arguments):void 0}},R={create:!0,exclusive:!1};return w.readyState=w.INIT,s||(s="download"),o?(y=n().createObjectURL(t),void setTimeout(function(){r.href=y,r.download=s,i(r),S(),p(y),w.readyState=w.DONE})):(e.chrome&&m&&m!==f&&(g=t.slice||t.webkitSlice,t=g.call(t,0,t.size,f),T=!0),u&&"download"!==s&&(s+=".download"),(m===f||u)&&(b=e),c?(l+=t.size,void c(e.TEMPORARY,l,x(function(e){e.root.getDirectory("saved",R,x(function(e){var n=function(){e.getFile(s,R,x(function(e){e.createWriter(x(function(n){n.onwriteend=function(t){b.location.href=e.toURL(),w.readyState=w.DONE,v(w,"writeend",t),p(e)},n.onerror=function(){var e=n.error;e.code!==e.ABORT_ERR&&E()},"writestart progress write abort".split(" ").forEach(function(e){n["on"+e]=w["on"+e]}),n.write(t),w.abort=function(){n.abort(),w.readyState=w.DONE},w.readyState=w.WRITING}),E)}),E)};e.getFile(s,{create:!1},x(function(e){e.remove(),n()}),x(function(e){e.code===e.NOT_FOUND_ERR?n():E()}))}),E)}),E)):void E())},b=y.prototype,g=function(e,t,n){return new y(e,t,n)};return"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(e,t,n){return n||(e=h(e)),navigator.msSaveOrOpenBlob(e,t||"download")}:(b.abort=function(){var e=this;e.readyState=e.DONE,v(e,"abort")},b.readyState=b.INIT=0,b.WRITING=1,b.DONE=2,b.error=b.onwritestart=b.onprogress=b.onwrite=b.onabort=b.onerror=b.onwriteend=null,g)}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content);"undefined"!=typeof t&&t.exports?t.exports.saveAs=r:"undefined"!=typeof define&&null!==define&&null!=define.amd&&define([],function(){return r})},{}],14:[function(e,t,n){!function(e){"use strict";var t,n=e.Uint8Array,r=e.HTMLCanvasElement,o=r&&r.prototype,i=/\s*;\s*base64\s*(?:;|$)/i,a="toDataURL",u=function(e){for(var r,o,i,a=e.length,u=new n(a/4*3|0),c=0,s=0,f=[0,0],l=0,d=0;a--;)o=e.charCodeAt(c++),r=t[o-43],255!==r&&r!==i&&(f[1]=f[0],f[0]=o,d=d<<6|r,l++,4===l&&(u[s++]=d>>>16,61!==f[1]&&(u[s++]=d>>>8),61!==f[0]&&(u[s++]=d),l=0));return u};n&&(t=new n([62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,0,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51])),r&&!o.toBlob&&(o.toBlob=function(e,t){if(t||(t="image/png"),this.mozGetAsFile)return void e(this.mozGetAsFile("canvas",t));if(this.msToBlob&&/^\s*image\/png\s*(?:$|;)/i.test(t))return void e(this.msToBlob());var r,o=Array.prototype.slice.call(arguments,1),c=this[a].apply(this,o),s=c.indexOf(","),f=c.substring(s+1),l=i.test(c.substring(0,s));Blob.fake?(r=new Blob,l?r.encoding="base64":r.encoding="URI",r.data=f,r.size=f.length):n&&(r=l?new Blob([u(f)],{type:t}):new Blob([decodeURIComponent(f)],{type:t})),e(r)},o.toDataURLHD?o.toBlobHD=function(){a="toDataURLHD";var e=this.toBlob();return a="toDataURL",e}:o.toBlobHD=o.toBlob)}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content||this)},{}]},{},[12]);